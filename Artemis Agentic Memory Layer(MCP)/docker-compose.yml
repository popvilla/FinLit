version: '3.8'

services:
  mcp-server:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "3000:3000"
    environment:
      # These environment variables will be passed into the container
      # IMPORTANT: Provide values via environment variables or .env file
      PORT: 3000
      MCP_API_KEY: ${MCP_API_KEY}
      OBSIDIAN_BASE_URL: ${OBSIDIAN_BASE_URL}
      OBSIDIAN_API_KEY: ${OBSIDIAN_API_KEY}
      MCP_LOG_LEVEL: info
    networks:
      - mcp_network

networks:
  mcp_network:
    # Define a custom network for your services
    # If you want the MCP server to only communicate internally with other Docker services,
    # you can set 'internal: true' and remove the 'ports' mapping.
    # For development, keeping 'ports' and using host.docker.internal is common.
